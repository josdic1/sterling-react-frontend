
==================================================
FILE: ./index.html
==================================================

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sterling-react-frontend</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>


==================================================
FILE: ./db.json
==================================================



==================================================
FILE: ./vercel.json
==================================================

{
  "rewrites": [
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}

==================================================
FILE: ./vite.config.js
==================================================

import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";

export default defineConfig({
  plugins: [react()],
  server: {
    port: 8081,
    strictPort: true,
    proxy: {
      // only active during `vite` / `vite dev`
      "/api": {
        target: "https://127.0.0.1:8080",
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ""),
      },
    },
  },
});


==================================================
FILE: ./README.md
==================================================

# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) (or [oxc](https://oxc.rs) when used in [rolldown-vite](https://vite.dev/guide/rolldown)) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## React Compiler

The React Compiler is not enabled on this template because of its impact on dev & build performances. To add it, see [this documentation](https://react.dev/learn/react-compiler/installation).

## Expanding the ESLint configuration

If you are developing a production application, we recommend using TypeScript with type-aware lint rules enabled. Check out the [TS template](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts) for information on how to integrate TypeScript and [`typescript-eslint`](https://typescript-eslint.io) in your project.


==================================================
FILE: ./.gitignore
==================================================

# Dependencies
node_modules/
.pnp
.pnp.js

# Production / Build
dist/
dist-ssr/
build/

# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Secrets
.env
.env.local
.env.production
.env.development.local
.env.test.local
.env.production.local

# Editor / OS
.vscode/*
!.vscode/extensions.json
.idea/
.DS_Store
*.suo
*.sw?

==================================================
FILE: ./package.json
==================================================

{
  "name": "sterling-react-frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "lucide-react": "^0.563.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-router-dom": "^7.13.0"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "vite": "^7.2.4"
  }
}

==================================================
FILE: ./.env
==================================================

VITE_API_URL=https://sterling-fastapi-backend-production.up.railway.app

==================================================
FILE: ./project_context.txt
==================================================



==================================================
FILE: ./eslint.config.js
==================================================

import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])


==================================================
FILE: ./public/_redirects
==================================================

/* /index.html 200


==================================================
FILE: ./src/routes.jsx
==================================================

import App from "./App.jsx";
import { ErrorPage } from "./pages/ErrorPage.jsx";
import { HomePage } from "./pages/HomePage.jsx";
import { LoginPage } from "./pages/LoginPage.jsx";
import { SignupPage } from "./pages/SignupPage.jsx";
import { MemberForm } from "./components/members/MemberForm.jsx";
import { ProtectedRoutes } from "./components/shared/ProtectedRoutes.jsx";
import { MembersPage } from "./pages/MembersPage.jsx";
import { DiningRoomsPage } from "./pages/DiningRoomsPage.jsx";
import { TimeSlotsPage } from "./pages/TimeSlotsPage.jsx";
import { ReservationsPage } from "./pages/ReservationsPage.jsx";
import { ReservationDetailPage } from "./pages/ReservationDetailPage.jsx";
import { SegaWishList } from "./pages/SegaWishList.jsx";
import { ReservationForm } from "./components/reservations/ReservationForm.jsx";
import { RulesPage } from "./pages/RulesPage.jsx";

export const routes = [
  {
    path: "/",
    element: <App />,
    errorElement: <ErrorPage />,
    children: [
      { index: true, element: <ProtectedRoutes><HomePage /></ProtectedRoutes> },
      { path: "login", element: <LoginPage /> },
      { path: "signup", element: <SignupPage /> },
      
      // System Backlog (CRT Wishlist)
      { path: "wishlist", element: <ProtectedRoutes><SegaWishList /></ProtectedRoutes> },
       
      // Members
      { path: "members", element: <ProtectedRoutes><MembersPage /></ProtectedRoutes> },
      { path: "members/new", element: <ProtectedRoutes><MemberForm /></ProtectedRoutes> },
      { path: "members/:id/edit", element: <ProtectedRoutes><MemberForm /></ProtectedRoutes> },
      
      // Rules & Fees
      { path: "rules", element: <ProtectedRoutes><RulesPage /></ProtectedRoutes> },
      
      // Infrastructure (Read-only)
      { path: "dining-rooms", element: <ProtectedRoutes><DiningRoomsPage /></ProtectedRoutes> },
      { path: "time-slots", element: <ProtectedRoutes><TimeSlotsPage /></ProtectedRoutes> },
      
      // Reservations & Ledger Entries
      { path: "reservations", element: <ProtectedRoutes><ReservationsPage /></ProtectedRoutes> },
      { path: "reservations/new", element: <ProtectedRoutes><ReservationForm /></ProtectedRoutes> },
      { path: "reservations/:id", element: <ProtectedRoutes><ReservationDetailPage /></ProtectedRoutes> },
      { path: "reservations/:id/edit", element: <ProtectedRoutes><ReservationForm /></ProtectedRoutes> },
    ],
  },
];

==================================================
FILE: ./src/index.css
==================================================

/* src/index.css */

/* ==================== CSS VARIABLES ==================== */
:root {
  --banking-black: #121212;
  --banking-grey: #757575;
  --sterling-accent: #eb5638;
  --white: #ffffff;
  --off-white: #f8f8f8;
  --border-color: #e0e0e0;
  --success-green: #10b981;
  --info-blue: #3b82f6;
}

/* ==================== GLOBAL RESET ==================== */
* {
  box-sizing: border-box;
}

body {
  background-color: var(--white);
  color: var(--banking-black);
  font-family:
    "Inter",
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    sans-serif;
  letter-spacing: -0.01em;
  margin: 0;
  padding: 0;
  -webkit-font-smoothing: antialiased;
}

/* ==================== LAYOUT ==================== */
.container {
  max-width: 100%;
  padding: 1rem;
  margin: 0 auto;
}

@media (min-width: 768px) {
  .container {
    max-width: 1200px;
    padding: 2rem;
  }
}

.detail-layout {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
}

@media (min-width: 1024px) {
  .detail-layout {
    grid-template-columns: 2fr 1fr;
    gap: 3rem;
  }
}

/* ==================== NAVIGATION ==================== */
.sterling-nav {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  padding: 1rem;
  border-bottom: 1px solid var(--border-color);
  background: var(--white);
  position: sticky;
  top: 0;
  z-index: 100;
}

@media (min-width: 768px) {
  .sterling-nav {
    padding: 1.5rem 4rem;
  }
}

.nav-brand {
  font-size: 0.75rem;
  font-weight: 900;
  letter-spacing: 0.15em;
  cursor: pointer;
  transition: all 0.2s;
  padding: 0.5rem;
  margin: -0.5rem;
  text-decoration: none;
  color: var(--banking-black);
}

.nav-brand:hover {
  background: var(--off-white);
  color: var(--sterling-accent);
}

.nav-links {
  display: flex;
  gap: 1.5rem;
  align-items: center;
  justify-self: center;
}

.nav-links a {
  color: var(--banking-grey);
  text-decoration: none;
  transition: color 0.2s;
}

.nav-links a:hover {
  color: var(--banking-black);
}

.nav-user {
  display: flex;
  align-items: center;
  gap: 1rem;
  justify-self: end;
}

.nav-user span {
  display: none;
  font-size: 0.7rem;
  font-weight: 700;
  color: var(--banking-grey);
}

@media (min-width: 768px) {
  .nav-user span {
    display: block;
  }
}

/* ==================== BUTTONS ==================== */
button {
  background: var(--banking-black);
  color: white;
  border: none;
  padding: 1rem 2rem;
  font-weight: 700;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  cursor: pointer;
  transition: all 0.2s;
  border-radius: 0;
  font-family: inherit;
}

button:hover {
  background: var(--sterling-accent);
  transform: translateY(-1px);
}

button:active {
  transform: translateY(0);
}

.btn-primary {
  background: var(--banking-black);
  width: 100%;
  padding: 1.25rem;
}

.btn-primary:hover {
  background: var(--sterling-accent);
}

.btn-secondary {
  background: white;
  color: var(--banking-black);
  border: 1px solid var(--banking-black);
  width: 100%;
}

.btn-secondary:hover {
  background: var(--banking-black);
  color: white;
}

@media (min-width: 768px) {
  .btn-secondary {
    width: auto;
    min-width: 150px;
  }
}

.btn-text-only {
  background: none;
  color: var(--sterling-accent);
  padding: 0;
  font-size: 0.7rem;
  text-decoration: underline;
  border: none;
}

.btn-text-only:hover {
  background: none;
  color: var(--banking-black);
  transform: none;
}

.btn-logout {
  background: transparent;
  color: var(--sterling-accent);
  border: none;
  padding: 0.5rem 1rem;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.btn-logout:hover {
  background: var(--sterling-accent);
  color: white;
}

.btn-close {
  background: transparent;
  color: var(--banking-grey);
  padding: 0.5rem;
  border: none;
}

.btn-close:hover {
  background: transparent;
  color: var(--sterling-accent);
  transform: none;
}

.btn-delete-small {
  background: transparent;
  color: var(--sterling-accent);
  padding: 0.5rem 0.75rem;
  font-size: 0.65rem;
  border: 1px solid var(--sterling-accent);
  flex-shrink: 0;
}

.btn-delete-small:hover {
  background: var(--sterling-accent);
  color: white;
}

/* Floating Action Button */
.fab {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: var(--sterling-accent);
  color: white;
  border: none;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  z-index: 50;
}

.fab:hover {
  background: var(--banking-black);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
  transform: scale(1.05);
}

@media (min-width: 768px) {
  .fab {
    display: none;
  }
}

/* Quick Add Member Buttons */
.btn-quick-add-member {
  width: 100%;
  background: white;
  color: var(--banking-black);
  border: 1px solid var(--border-color);
  padding: 1rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  text-align: left;
  font-size: 0.85rem;
  font-weight: 600;
  transition: all 0.2s;
}

.btn-quick-add-member:hover {
  background: var(--banking-black);
  color: white;
  border-color: var(--banking-black);
  transform: translateY(-1px);
}

.btn-quick-add-member svg {
  flex-shrink: 0;
}

.btn-quick-add-member span:first-of-type {
  flex: 1;
}

.member-relation {
  color: var(--banking-grey);
  font-size: 0.75rem;
  font-weight: 400;
  font-style: italic;
}

.btn-quick-add-member:hover .member-relation {
  color: rgba(255, 255, 255, 0.7);
}

.quick-add-members {
  display: grid;
  gap: 0.75rem;
}

/* ==================== PAGE HEADERS ==================== */
.page-header {
  border-bottom: 2px solid var(--banking-black);
  padding-bottom: 1.5rem;
  margin-bottom: 2rem;
  position: relative;
}

.page-header h1 {
  font-size: 1.5rem;
  margin: 0 0 1rem 0;
  text-transform: uppercase;
  letter-spacing: -0.02em;
}

@media (min-width: 768px) {
  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
  }

  .page-header h1 {
    margin: 0;
    font-size: 2rem;
  }
}

/* Edit Button - Icon on Mobile, Text on Desktop */
.btn-edit {
  position: absolute;
  top: 0;
  right: 0;
  background: transparent;
  color: var(--banking-grey);
  padding: 0.5rem;
  border: none;
  font-size: 1.25rem;
}

.btn-edit:hover {
  color: var(--sterling-accent);
  background: transparent;
  transform: none;
}

.btn-edit-text {
  display: none;
}

@media (min-width: 768px) {
  .btn-edit {
    position: static;
    background: var(--banking-black);
    color: white;
    padding: 1rem 2rem;
    font-size: 0.75rem;
  }

  .btn-edit:hover {
    background: var(--sterling-accent);
    color: white;
  }

  .btn-edit-text {
    display: inline;
  }

  .btn-edit svg {
    display: none;
  }
}

/* ==================== CARDS ==================== */
.info-summary-card {
  background: var(--off-white);
  border: 1px solid var(--border-color);
  padding: 2rem;
  margin-bottom: 2rem;
  border-left: 4px solid var(--banking-black);
}

.info-summary-card h2 {
  font-size: 1.75rem;
  text-transform: uppercase;
  margin: 0.5rem 0 1rem 0;
  letter-spacing: -0.03em;
}

@media (min-width: 768px) {
  .info-summary-card {
    padding: 3rem;
    margin-bottom: 3rem;
  }

  .info-summary-card h2 {
    font-size: 2.5rem;
  }
}

.details-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  margin-top: 1.5rem;
}

@media (min-width: 768px) {
  .details-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 4rem;
    margin-top: 2rem;
  }
}

/* ==================== RESERVATION CARDS ==================== */
.reservation-cards {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  margin-top: 1.5rem;
}

@media (min-width: 768px) {
  .reservation-cards {
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .reservation-cards {
    grid-template-columns: repeat(3, 1fr);
  }
}

.reservation-item {
  background: white;
  border: 1px solid var(--border-color);
  border-left: 4px solid var(--banking-black);
  padding: 0;
  cursor: pointer;
  transition: all 0.2s;
  display: grid;
  grid-template-columns: 80px 1fr 50px;
  gap: 0;
  overflow: hidden;
  position: relative;
}

.reservation-item:hover {
  border-left-color: var(--sterling-accent);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
}

.reservation-item:active {
  transform: scale(0.98);
}

/* Date Block - Left Side */
.res-date-block {
  background: var(--off-white);
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 1rem 0.5rem;
  text-align: center;
}

.res-month {
  font-size: 0.7rem;
  font-weight: 900;
  letter-spacing: 0.1em;
  color: var(--sterling-accent);
  margin-bottom: 0.25rem;
}

.res-day {
  font-size: 2rem;
  font-weight: 900;
  line-height: 1;
  color: var(--banking-black);
}

/* Content - Middle */
.res-content {
  padding: 1.25rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.res-time-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--banking-grey);
}

.res-time-row svg {
  flex-shrink: 0;
}

.res-room {
  font-size: 1rem;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  margin: 0;
  color: var(--banking-black);
}

.res-notes {
  font-size: 0.85rem;
  color: var(--banking-grey);
  font-style: italic;
  margin: 0;
  line-height: 1.4;
}

.res-guest-count {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--banking-black);
  padding-top: 0.5rem;
  border-top: 1px solid var(--border-color);
}

.res-guest-count svg {
  flex-shrink: 0;
  opacity: 0.7;
}

/* Delete Button - Right Side */
.btn-delete-icon {
  background: transparent;
  border: none;
  color: var(--banking-grey);
  padding: 0;
  width: 50px;
  height: 100%;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  border-left: 1px solid var(--border-color);
}

.btn-delete-icon:hover {
  background: var(--sterling-accent);
  color: white;
  transform: none;
}
/* ==================== FORMS ==================== */
.banking-form {
  max-width: 100%;
  margin-top: 2rem;
}

@media (min-width: 768px) {
  .banking-form {
    max-width: 600px;
  }
}

.input-group {
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--border-color);
}

.input-group label {
  display: block;
  font-size: 0.65rem;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  color: var(--banking-grey);
  margin-bottom: 0.75rem;
}

.input-group input,
.input-group select,
.input-group textarea {
  width: 100%;
  border: none;
  background: transparent;
  font-size: 1rem;
  font-family: inherit;
  color: var(--banking-black);
  padding: 0.5rem 0;
  appearance: none;
}

.input-group select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23121212' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.5rem center;
  padding-right: 2rem;
}

.input-group input:focus,
.input-group select:focus,
.input-group textarea:focus {
  outline: none;
  color: var(--sterling-accent);
}

.input-group textarea {
  min-height: 100px;
  resize: vertical;
}

.form-actions {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  margin-top: 2rem;
}

@media (min-width: 768px) {
  .form-actions {
    grid-template-columns: 1fr auto;
  }
}

.guest-quick-form {
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.75rem;
}

.guest-quick-form input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--border-color);
  background: white;
  font-family: inherit;
  font-size: 0.85rem;
}

.guest-quick-form input:focus {
  outline: 2px solid var(--sterling-accent);
  border-color: var(--sterling-accent);
}

.guest-quick-form button {
  width: 100%;
  padding: 1rem;
}

/* ==================== TABLES ==================== */
.sterling-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 1rem;
}

.sterling-table th {
  text-align: left;
  text-transform: uppercase;
  font-size: 0.6rem;
  letter-spacing: 0.1em;
  padding: 0.75rem 0.5rem;
  border-bottom: 2px solid var(--banking-black);
  font-weight: 900;
}

.sterling-table td {
  padding: 1rem 0.5rem;
  border-bottom: 1px solid var(--border-color);
  font-size: 0.85rem;
}

.sterling-table tr {
  transition: background 0.1s;
}

@media (min-width: 768px) {
  .sterling-table tr:hover {
    background: #fcfcfc;
  }
}

/* ==================== SIDEBAR ==================== */
.sidebar-card {
  border: 1px solid var(--border-color);
  padding: 1.5rem;
  background: var(--off-white);
}

@media (min-width: 1024px) {
  .sidebar-card {
    position: sticky;
    top: 5rem;
  }
}

.sidebar-card + .sidebar-card {
  margin-top: 1.5rem;
}

.section-label {
  font-size: 0.7rem;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--banking-black);
}

.attendee-management {
  margin-bottom: 2rem;
}

/* ==================== TOASTS ==================== */
.toast-container {
  position: fixed;
  top: 1rem;
  right: 1rem;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  max-width: 90vw;
}

@media (min-width: 768px) {
  .toast-container {
    max-width: 400px;
  }
}

.toast {
  background: white;
  border: 1px solid var(--border-color);
  border-left-width: 4px;
  padding: 1rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(400px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.toast-success {
  border-left-color: var(--success-green);
}

.toast-error {
  border-left-color: var(--sterling-accent);
}

.toast-info {
  border-left-color: var(--info-blue);
}

.toast-icon {
  flex-shrink: 0;
  display: flex;
  align-items: center;
}

.toast-success .toast-icon {
  color: var(--success-green);
}

.toast-error .toast-icon {
  color: var(--sterling-accent);
}

.toast-info .toast-icon {
  color: var(--info-blue);
}

.toast-message {
  flex: 1;
  font-size: 0.85rem;
  font-weight: 600;
}

.toast-close {
  background: none;
  border: none;
  color: var(--banking-grey);
  padding: 0.25rem;
  cursor: pointer;
  display: flex;
  align-items: center;
}

.toast-close:hover {
  color: var(--banking-black);
  background: none;
  transform: none;
}

/* ==================== SAVE FLOATER (UPDATED) ==================== */
/* ==================== SAVE FLOATER (UPDATED) ==================== */
.save-floater {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--success-green);
  color: white;
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.2);
  z-index: 999;
  animation: slideUp 0.3s ease-out;
  overflow: hidden;
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

.save-floater-content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  padding: 1rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.save-icon {
  flex-shrink: 0;
  animation: checkPulse 0.5s ease-out;
}

@keyframes checkPulse {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

.save-title {
  font-weight: 700;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.save-floater-actions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0;
}

.btn-floater-home,
.btn-floater-dismiss {
  padding: 1rem;
  border: none;
  font-weight: 700;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-floater-home {
  background: rgba(0, 0, 0, 0.2);
  color: white;
  border-right: 1px solid rgba(255, 255, 255, 0.2);
}

.btn-floater-home:hover {
  background: rgba(0, 0, 0, 0.4);
  transform: none;
}

.btn-floater-dismiss {
  background: transparent;
  color: white;
}

.btn-floater-dismiss:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: none;
}

.save-floater-progress {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 3px;
  background: rgba(255, 255, 255, 0.5);
  animation: progressBar 5s linear;
}

@keyframes progressBar {
  from {
    width: 0%;
  }
  to {
    width: 100%;
  }
}

/* ==================== FEES SECTION ==================== */
.fees-section {
  margin-top: 2rem;
  padding-top: 2rem;
  border-top: 2px solid var(--border-color);
}

.fee-status {
  padding: 0.25rem 0.5rem;
  border-radius: 2px;
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.fee-status.paid {
  background: var(--success-green);
  color: white;
}

.fee-status.pending {
  background: var(--sterling-accent);
  color: white;
}

.fee-total-row {
  border-top: 2px solid var(--banking-black);
  font-weight: 700;
}

.fee-total-row td {
  padding-top: 1rem !important;
  font-size: 1.1rem;
}

/* ==================== LOGIN PAGE ==================== */
.login-page-container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  background: var(--off-white);
}

.login-card {
  background: white;
  border: 1px solid var(--border-color);
  border-left: 4px solid var(--banking-black);
  padding: 2rem;
  width: 100%;
  max-width: 400px;
  position: relative;
}

.login-card h1 {
  font-size: 1.5rem;
  margin: 0 0 2rem 0;
  text-transform: uppercase;
  letter-spacing: -0.02em;
}

.login-card form {
  display: grid;
  gap: 1.5rem;
}

.login-card input {
  width: 100%;
  padding: 1rem;
  border: 1px solid var(--border-color);
  background: white;
  font-family: inherit;
  font-size: 1rem;
}

.login-card input:focus {
  outline: 2px solid var(--sterling-accent);
  border-color: var(--sterling-accent);
}

.login-card button[type="submit"] {
  width: 100%;
}

.login-card p {
  text-align: center;
  font-size: 0.85rem;
  color: var(--banking-grey);
  margin: 0;
}

.login-card a {
  color: var(--sterling-accent);
  text-decoration: none;
  font-weight: 700;
}

.login-error {
  background: #fff5f5;
  color: var(--sterling-accent);
  padding: 1rem;
  border: 1px solid var(--sterling-accent);
  font-size: 0.85rem;
  text-align: center;
}

.magic-prefill-btn {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: transparent;
  color: var(--banking-grey);
  padding: 0.5rem;
  border: none;
  cursor: pointer;
}

.magic-prefill-btn:hover {
  color: var(--sterling-accent);
  background: transparent;
  transform: none;
}

/* ==================== UTILITY CLASSES ==================== */
.font-bold {
  font-weight: 700;
}

.text-muted {
  color: var(--banking-grey);
  font-style: italic;
}

.text-small {
  display: block;
  font-size: 0.6rem;
  font-weight: 800;
  text-transform: uppercase;
  color: var(--banking-grey);
  margin-bottom: 0.25rem;
  letter-spacing: 0.1em;
}

.text-right {
  text-align: right;
}

.text-uppercase {
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
}

.loading-state {
  padding: 4rem 2rem;
  text-align: center;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: var(--banking-grey);
  font-size: 0.7rem;
}

.empty-msg {
  text-align: center;
  color: var(--banking-grey);
  font-style: italic;
  padding: 3rem 1rem;
  font-size: 0.9rem;
}

/* Banking Style Badges */
.badge-group {
  display: flex;
  gap: 8px;
  align-items: center;
  margin-top: 4px;
}

.time-badge,
.guest-count-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: 1px solid currentColor;
}

.time-badge {
  background-color: #f8f9fa;
  color: #1a1a1a;
  border-color: #dee2e6;
}

.guest-count-badge {
  background-color: #e9ecef;
  color: #495057;
  border-color: #ced4da;
}

.time-badge svg,
.guest-count-badge svg {
  opacity: 0.8;
}

/* Better Account Grid */
.account-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  margin-bottom: 2rem;
}

.account-select-btn {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 12px;
  padding: 16px;
  background: #ffffff;
  border: 2px solid #f0f0f0;
  border-radius: 4px;
  color: var(--acc-color);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

.account-select-btn:hover {
  border-color: var(--acc-color);
  background: #fafafa;
  transform: scale(1.02);
}

.account-select-btn span {
  font-size: 0.9rem;
  font-weight: 800;
  letter-spacing: 1px;
}

/* NavBar User Identity */
.user-status-group {
  display: flex;
  align-items: center;
  gap: 20px;
  padding: 4px 12px;
  background: #f8f9fa;
  border: 1px solid #dee2e6;
}

.user-identity {
  display: flex;
  align-items: center;
  gap: 8px;
}

.user-label {
  font-size: 0.65rem;
  font-weight: 900;
  color: #888;
}

.user-name {
  font-size: 0.75rem;
  font-weight: 800;
  color: #1a1a1a;
  letter-spacing: 0.5px;
}

.status-icon {
  color: #2e4a62;
}

.divider {
  text-align: center;
  margin: 2rem 0;
  position: relative;
  color: var(--banking-grey);
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.1em;
}

.divider::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 1px;
  background: var(--border-color);
  z-index: -1;
}

.divider span {
  background: white;
  padding: 0 1rem;
}

.signup-link {
  text-align: center;
  font-size: 0.85rem;
  color: var(--banking-grey);
  margin: 0;
}

.login-header {
  text-align: center;
  margin-bottom: 2rem;
}

.login-icon-main {
  margin-bottom: 1rem;
  color: var(--banking-black);
}

.login-submit {
  margin-top: 1rem;
}

/* ==================== RULES PAGE ==================== */
.rules-intro {
  background: var(--off-white);
  border-left: 4px solid var(--sterling-accent);
  padding: 1.5rem;
  margin-bottom: 2rem;
  font-size: 0.9rem;
  color: var(--banking-grey);
}

.rules-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  margin-top: 2rem;
}

@media (min-width: 768px) {
  .rules-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

.rule-card {
  background: var(--off-white);
  border: 1px solid var(--border-color);
  border-left: 4px solid var(--banking-black);
  padding: 2rem;
  display: flex;
  gap: 1.5rem;
  transition: all 0.2s;
}

.rule-card:hover {
  border-left-color: var(--sterling-accent);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.rule-icon {
  flex-shrink: 0;
  color: var(--banking-black);
  opacity: 0.7;
}

.rule-content {
  flex: 1;
}

.rule-content h3 {
  margin: 0 0 0.75rem 0;
  text-transform: uppercase;
  font-size: 1rem;
  letter-spacing: 0.02em;
}

.rule-desc {
  color: var(--banking-grey);
  font-size: 0.85rem;
  margin: 0 0 1rem 0;
  line-height: 1.5;
}

.rule-condition {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  margin-bottom: 1rem;
  padding: 0.75rem;
  background: white;
  border: 1px solid var(--border-color);
}

.condition-label {
  font-size: 0.65rem;
  font-weight: 900;
  text-transform: uppercase;
  color: var(--banking-grey);
  letter-spacing: 0.05em;
}

.condition-value {
  font-size: 0.85rem;
  font-weight: 700;
  color: var(--banking-black);
}

.rule-fee {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color);
}

.fee-label {
  font-size: 0.7rem;
  font-weight: 900;
  text-transform: uppercase;
  color: var(--banking-grey);
  letter-spacing: 0.05em;
}

.fee-amount {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--sterling-accent);
}

/* ==================== NAV TOOLTIPS ==================== */
.nav-link-with-tooltip {
  position: relative;
  color: var(--banking-grey);
  text-decoration: none;
  transition: color 0.2s;
}

.nav-link-with-tooltip:hover {
  color: var(--banking-black);
}

.nav-link-with-tooltip.active {
  color: var(--sterling-accent);
}

.nav-link-with-tooltip::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: -35px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--banking-black);
  color: white;
  padding: 0.35rem 0.75rem;
  border-radius: 3px;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s;
}

.nav-link-with-tooltip:hover::after {
  opacity: 1;
}

/* Arrow for tooltip */
.nav-link-with-tooltip::before {
  content: "";
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 5px solid var(--banking-black);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s;
}

.nav-link-with-tooltip:hover::before {
  opacity: 1;
}


==================================================
FILE: ./src/main.jsx
==================================================

// main.jsx
import { createRoot } from "react-dom/client";
import { createBrowserRouter, RouterProvider } from "react-router-dom";
import { routes } from "./routes.jsx";
import { AuthProvider } from "./providers/AuthProvider";
import { DataProvider } from "./providers/DataProvider";
import "./index.css";

const router = createBrowserRouter(routes);

createRoot(document.getElementById("root")).render(
  <AuthProvider>
    <DataProvider>
      <RouterProvider router={router} />
    </DataProvider>
  </AuthProvider>,
);

console.log("Build: 1769978709");
console.log("Production Build Verified: HTTPS-Only - 1.1.0");


==================================================
FILE: ./src/App.jsx
==================================================

// src/App.jsx
import { Outlet } from 'react-router-dom';
import { NavBar } from './components/shared/NavBar';
import { ToastContainer } from './components/shared/ToastContainer';
import { useToast } from './hooks/useToast';
import { createContext } from 'react';

// Create a context so any component can trigger toasts
export const ToastContext = createContext(null);

function App() {
  const { toasts, addToast, removeToast } = useToast();

  return (
    <ToastContext.Provider value={{ addToast }}>
      <div>
        <ToastContainer toasts={toasts} removeToast={removeToast} />
        <NavBar />
        <main>
          <Outlet /> 
        </main>
      </div>
    </ToastContext.Provider>
  );
}

export default App;

==================================================
FILE: ./src/contexts/AuthContext.jsx
==================================================

import { createContext } from "react";

export const AuthContext = createContext();


==================================================
FILE: ./src/contexts/DataContext.jsx
==================================================

import { createContext } from "react";
export const DataContext = createContext(null);

==================================================
FILE: ./src/contexts/ToastContext.jsx
==================================================

import { createContext } from "react";

export const ToastContext = createContext();


==================================================
FILE: ./src/providers/AuthProvider.jsx
==================================================

// AuthProvider.jsx (unchanged, but included for completeness)
import { useState, useEffect } from "react";
import { AuthContext } from "../contexts/AuthContext";

const API_URL = "https://sterling-fastapi-backend-production.up.railway.app";

export function AuthProvider({ children }) {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const checkSession = async () => {
      const token = localStorage.getItem("token");
      if (!token) {
        setLoading(false);
        return;
      }

      try {
        const resp = await fetch(`${API_URL}/users/me`, {
          headers: { Authorization: `Bearer ${token}` },
        });

        if (resp.ok) {
          setUser(await resp.json());
        } else {
          localStorage.removeItem("token");
        }
      } catch (err) {
        console.error("Session check failed", err);
      } finally {
        setLoading(false);
      }
    };

    checkSession();
  }, []);

  const login = async (credentials) => {
    try {
      const resp = await fetch(`${API_URL}/users/login`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(credentials),
      });

      if (resp.ok) {
        const data = await resp.json();
        localStorage.removeItem("token");
        localStorage.setItem("token", data.access_token);
        setUser(data.user);
        return { success: true };
      }

      return { success: false, error: "Invalid credentials" };
    } catch (err) {
      console.error("Login failed", err);
      return { success: false, error: "Connection failed" };
    }
  };

  const signup = async (userData) => {
    try {
      const resp = await fetch(`${API_URL}/users/`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(userData),
      });

      if (!resp.ok) {
        return {
          success: false,
          error: (await resp.text()) || "Signup failed",
        };
      }

      const loginResp = await fetch(`${API_URL}/users/login`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          email: userData.email,
          password: userData.password,
        }),
      });

      if (loginResp.ok) {
        const data = await loginResp.json();
        localStorage.setItem("token", data.access_token);
        setUser(data.user);
        return { success: true };
      }

      return { success: true };
    } catch (err) {
      console.error("Signup failed", err);
      return { success: false, error: "Connection failed" };
    }
  };

  const logout = () => {
    localStorage.removeItem("token");
    setUser(null);
    window.location.href = "/login";
  };

  return (
    <AuthContext.Provider
      value={{ user, loading, loggedIn: !!user, login, signup, logout }}
    >
      {children}
    </AuthContext.Provider>
  );
}


==================================================
FILE: ./src/providers/DataProvider.jsx
==================================================

// DataProvider.jsx (FIXED: Added trailing slashes to loadAll fetches)
import React, { useState, useEffect, useContext, useCallback } from "react";
import { DataContext } from "../contexts/DataContext";
import { AuthContext } from "../contexts/AuthContext";

const API_URL = "https://sterling-fastapi-backend-production.up.railway.app";

export function DataProvider({ children }) {
  const { loggedIn } = useContext(AuthContext);

  const [diningRooms, setDiningRooms] = useState([]);
  const [reservations, setReservations] = useState([]);
  const [members, setMembers] = useState([]);
  const [fees, setFees] = useState([]);
  const [rules, setRules] = useState([]);
  const [timeSlots, setTimeSlots] = useState([]);
  const [loading, setLoading] = useState(true);

  const getToken = useCallback(() => localStorage.getItem("token"), []);

  const fetchReservationById = useCallback(
    async (id) => {
      try {
        const token = getToken();
        const resp = await fetch(`${API_URL}/reservations/${id}`, {
          headers: { Authorization: `Bearer ${token}` },
        });
        if (!resp.ok) return null;
        const data = await resp.json();
        setReservations((prev) =>
          prev.some((r) => r.id === data.id)
            ? prev.map((r) => (r.id === data.id ? data : r))
            : [...prev, data],
        );
        return data;
      } catch (err) {
        console.error(err);
        return null;
      }
    },
    [getToken],
  );

  const createReservation = useCallback(
    async (newRes) => {
      const token = getToken();
      const resp = await fetch(`${API_URL}/reservations/`, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${token}`,
        },
        body: JSON.stringify(newRes),
      });
      if (resp.ok) {
        const data = await resp.json();
        setReservations((prev) => [...prev, data]);
        return data;
      }
      return null;
    },
    [getToken],
  );

  const updateReservation = useCallback(
    async (id, updateData) => {
      const token = getToken();
      const resp = await fetch(`${API_URL}/reservations/${id}`, {
        method: "PATCH",
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${token}`,
        },
        body: JSON.stringify(updateData),
      });
      if (resp.ok) {
        const data = await resp.json();
        setReservations((prev) => prev.map((r) => (r.id === id ? data : r)));
        return data;
      }
      return null;
    },
    [getToken],
  );

  const deleteReservation = useCallback(
    async (id) => {
      const token = getToken();
      const resp = await fetch(`${API_URL}/reservations/${id}`, {
        method: "DELETE",
        headers: { Authorization: `Bearer ${token}` },
      });
      if (resp.ok) setReservations((prev) => prev.filter((r) => r.id !== id));
    },
    [getToken],
  );

  const fetchAttendees = useCallback(
    async (resId) => {
      try {
        const token = getToken();
        const resp = await fetch(
          `${API_URL}/reservations/${resId}/attendees/`,
          {
            headers: { Authorization: `Bearer ${token}` },
          },
        );
        if (resp.ok) return await resp.json();
        return [];
      } catch (err) {
        console.error(err);
        return [];
      }
    },
    [getToken],
  );

  const addAttendee = useCallback(
    async (resId, guestData) => {
      try {
        const token = getToken();
        const resp = await fetch(
          `${API_URL}/reservations/${resId}/attendees/`,
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${token}`,
            },
            body: JSON.stringify(guestData),
          },
        );
        if (resp.ok) {
          const newAttendee = await resp.json();
          setReservations((prev) =>
            prev.map((r) =>
              r.id === Number(resId)
                ? { ...r, attendee_count: (r.attendee_count || 0) + 1 }
                : r,
            ),
          );
          return { success: true, data: newAttendee };
        }
        return { success: false };
      } catch (err) {
        console.error(err);
        return { success: false };
      }
    },
    [getToken],
  );

  const removeAttendee = useCallback(
    async (resId, attendeeId) => {
      try {
        const token = getToken();
        const resp = await fetch(
          `${API_URL}/reservations/${resId}/attendees/${attendeeId}/`,
          {
            method: "DELETE",
            headers: { Authorization: `Bearer ${token}` },
          },
        );
        if (resp.ok) {
          setReservations((prev) =>
            prev.map((r) =>
              r.id === Number(resId)
                ? {
                    ...r,
                    attendee_count: Math.max(0, (r.attendee_count || 0) - 1),
                  }
                : r,
            ),
          );
          return { success: true };
        }
        return { success: false };
      } catch (err) {
        console.error(err);
        return { success: false };
      }
    },
    [getToken],
  );

  const createMember = useCallback(
    async (memberData) => {
      try {
        const token = getToken();
        const resp = await fetch(`${API_URL}/members/`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${token}`,
          },
          body: JSON.stringify(memberData),
        });
        if (resp.ok) {
          const newMember = await resp.json();
          setMembers((prev) => [...prev, newMember]);
          return { success: true, data: newMember };
        }
        return { success: false };
      } catch (err) {
        console.error(err);
        return { success: false };
      }
    },
    [getToken],
  );

  const updateMember = useCallback(
    async (memberId, updateData) => {
      try {
        const token = getToken();
        const resp = await fetch(`${API_URL}/members/${memberId}/`, {
          method: "PATCH",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${token}`,
          },
          body: JSON.stringify(updateData),
        });
        if (resp.ok) {
          const updatedMember = await resp.json();
          setMembers((prev) =>
            prev.map((m) => (m.id === memberId ? updatedMember : m)),
          );
          return { success: true, data: updatedMember };
        }
        return { success: false };
      } catch (err) {
        console.error(err);
        return { success: false };
      }
    },
    [getToken],
  );

  const deleteMember = useCallback(
    async (memberId) => {
      try {
        const token = getToken();
        const resp = await fetch(`${API_URL}/members/${memberId}/`, {
          method: "DELETE",
          headers: { Authorization: `Bearer ${token}` },
        });
        if (resp.ok) {
          setMembers((prev) => prev.filter((m) => m.id !== memberId));
          return { success: true };
        }
        return { success: false };
      } catch (err) {
        console.error(err);
        return { success: false };
      }
    },
    [getToken],
  );

  useEffect(() => {
    const loadAll = async () => {
      const token = getToken();
      if (!token || !loggedIn) {
        setLoading(false);
        return;
      }
      setLoading(true);
      try {
        const headers = { Authorization: `Bearer ${token}` };
        // FIXED: Added trailing slashes here to match backend expectations and avoid 307 redirects
        const [roomsRes, reservationsRes, membersRes] = await Promise.all([
          fetch(`${API_URL}/dining-rooms/`, { headers }),
          fetch(`${API_URL}/reservations/`, { headers }),
          fetch(`${API_URL}/members/`, { headers }),
        ]);
        if (roomsRes.ok) setDiningRooms(await roomsRes.json());
        if (reservationsRes.ok) setReservations(await reservationsRes.json());
        if (membersRes.ok) setMembers(await membersRes.json());
      } catch (err) {
        console.error("loadAll failed:", err);
      } finally {
        setLoading(false);
      }
    };
    loadAll();
  }, [loggedIn, getToken]);

  const value = {
    diningRooms,
    reservations,
    members,
    createMember,
    updateMember,
    deleteMember,
    loading,
    fetchReservationById,
    createReservation,
    updateReservation,
    deleteReservation,
    fetchAttendees,
    addAttendee,
    removeAttendee,
  };
  console.log("Build: 1769978710 - Fixed Trailing Slashes");
  console.log("Production Build Verified: HTTPS-Only - 1.1.0");
  return <DataContext.Provider value={value}>{children}</DataContext.Provider>;
}


==================================================
FILE: ./src/components/attendees/AttendeeForm.jsx
==================================================

// src/components/attendees/AttendeeForm.jsx
import { useState } from "react";
import { useData } from "../../hooks/useData";

export function AttendeeForm({ reservationId, onSuccess }) {
  const { addAttendee } = useData();
  const [formData, setFormData] = useState({ name: "", dietary_restrictions: "" });

  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!formData.name.trim()) return;

    const result = await addAttendee(reservationId, formData);
    
    if (result.success) {
      // Only call onSuccess if it was provided
      if (onSuccess) {
        onSuccess(formData.name);
      }
      setFormData({ name: "", dietary_restrictions: "" });
    }
  };

  return (
    <form onSubmit={handleSubmit} className="guest-quick-form">
      <input
        type="text"
        placeholder="Guest Name"
        value={formData.name}
        onChange={(e) => setFormData({...formData, name: e.target.value})}
      />
      <input
        type="text"
        placeholder="Dietary Notes (Optional)"
        value={formData.dietary_restrictions}
        onChange={(e) => setFormData({...formData, dietary_restrictions: e.target.value})}
      />
      <button type="submit">Seat Guest</button>
    </form>
  );
}

==================================================
FILE: ./src/components/attendees/AttendeeList.jsx
==================================================

// src/components/attendees/AttendeeList.jsx
import { useData } from "../../hooks/useData";

export function AttendeeList({ attendees, reservationId, onRemove }) {
  const { removeAttendee } = useData();

  // Fallback function if onRemove not provided
  const handleRemove = async (attendeeId, attendeeName) => {
    if (onRemove) {
      // Use the provided callback
      await onRemove(attendeeId, attendeeName);
    } else {
      // Fallback to direct removal (no toast)
      await removeAttendee(reservationId, attendeeId);
    }
  };

  if (!attendees || attendees.length === 0) {
    return <p className="text-muted">No guests seated at this table.</p>;
  }

  return (
    <div className="attendee-management">
      <h3 className="section-label">Current Table</h3>
      <table className="sterling-table">
        <thead>
          <tr>
            <th>Guest</th>
            <th>Dietary Restrictions</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {attendees.map((attendee) => (
            <tr key={attendee.id}>
              <td className="font-bold">
                {attendee.member?.name || attendee.name}
                {attendee.member?.relation && (
                  <span className="text-small"> ({attendee.member.relation})</span>
                )}
              </td>
              <td className="text-muted">
                {attendee.member?.dietary_restrictions || attendee.dietary_restrictions || "None"}
              </td>
              <td>
                <button 
                  className="btn-text-only"
                  onClick={() => handleRemove(attendee.id, attendee.member?.name || attendee.name)}
                >
                  Remove
                </button>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}

==================================================
FILE: ./src/components/reservations/ReservationList.jsx
==================================================

// src/components/reservations/ReservationList.jsx
import { ReservationItem } from "./ReservationItem";

export function ReservationList({ reservations }) {
  if (!reservations || reservations.length === 0) {
    return <p className="empty-msg">No entries found in ledger.</p>;
  }

  return (
    <div className="reservation-cards">
      {reservations.map((res) => (
        <ReservationItem key={res.id} reservation={res} />
      ))}
    </div>
  );
}

==================================================
FILE: ./src/components/reservations/ReservationItem.jsx
==================================================

import { useNavigate } from "react-router-dom";
import { useData } from "../../hooks/useData";
import { Users, Clock, Trash2 } from "lucide-react";

export function ReservationItem({ reservation }) {
  const navigate = useNavigate();
  const { deleteReservation, diningRooms } = useData();

  const room = diningRooms?.find(r => r.id === reservation.dining_room_id);

  const handleDelete = async (e) => {
    e.stopPropagation();
    if (window.confirm("Are you sure you want to cancel this booking?")) {
      await deleteReservation(reservation.id);
    }
  };

  // Convert 24hr time to 12hr AM/PM format
  const formatTime = (time24) => {
    if (!time24) return "";
    const [hours, minutes] = time24.split(':');
    const hour = parseInt(hours);
    const ampm = hour >= 12 ? 'PM' : 'AM';
    const hour12 = hour % 12 || 12;
    return `${hour12}:${minutes} ${ampm}`;
  };

  // Format date to be cleaner with year (e.g., "FEB 6")
  const formatDate = (dateStr) => {
    const date = new Date(dateStr + 'T00:00:00');
    const month = date.toLocaleDateString('en-US', { month: 'short' }).toUpperCase();
    const day = date.getDate();
    return { month, day };
  };

  const { month, day } = formatDate(reservation.date);

  return (
    <div className="reservation-item" onClick={() => navigate(`/reservations/${reservation.id}`)}>
      <div className="res-date-block">
        <span className="res-month">{month}</span>
        <span className="res-day">{day}</span>
      </div>

      <div className="res-content">
        <div className="res-time-row">
          <Clock size={14} />
          <span>{formatTime(reservation.start_time)} - {formatTime(reservation.end_time)}</span>
        </div>
        
        <h3 className="res-room">{room?.name || "NO LOCATION"}</h3>
        
        <p className="res-notes">{reservation.notes || "No notes"}</p>

        {reservation.attendee_count > 0 && (
          <div className="res-guest-count">
            <Users size={14} />
            <span>{reservation.attendee_count} {reservation.attendee_count === 1 ? 'Guest' : 'Guests'}</span>
          </div>
        )}
      </div>

      <button className="btn-delete-icon" onClick={handleDelete} title="Delete Reservation">
        <Trash2 size={18} />
      </button>
    </div>
  );
}

==================================================
FILE: ./src/components/reservations/ReservationForm.jsx
==================================================

import { useState, useEffect } from "react";
import { useParams, useNavigate } from "react-router-dom";
import { useData } from "../../hooks/useData";

export function ReservationForm() {
  const { id } = useParams();
  const navigate = useNavigate();
  
  const { 
    diningRooms, 
    reservations, 
    loading,
    fetchReservationById, 
    updateReservation, 
    createReservation 
  } = useData();

  const [isFetching, setIsFetching] = useState(!!id);
  const [formData, setFormData] = useState({
    date: "",
    meal_type: "",
    dining_room_id: "",
    start_time: "",
    end_time: "",
    notes: "",
  });

  const resId = id ? parseInt(id) : null;

  // Helper: Convert time object to HH:MM string
  const formatTimeForInput = (timeValue) => {
    if (!timeValue) return "";
    if (typeof timeValue === 'string') {
      // Already a string, just take HH:MM part
      return timeValue.split(':').slice(0, 2).join(':');
    }
    return timeValue;
  };

  useEffect(() => {
    const init = async () => {
      if (!resId) return;

      let target = reservations?.find(r => r.id === resId);
      if (!target) {
        target = await fetchReservationById(resId);
      }

      if (target) {
        setFormData({
          date: target.date || "",
          meal_type: target.meal_type || "",
          dining_room_id: String(target.dining_room_id || ""),
          start_time: formatTimeForInput(target.start_time),  // FORMAT HERE
          end_time: formatTimeForInput(target.end_time),      // FORMAT HERE
          notes: target.notes || "",
        });
      } else {
        navigate("/", { replace: true });
      }
      setIsFetching(false);
    };

    init();
  }, [resId, fetchReservationById, navigate, reservations]);

  const onSubmit = async (e) => {
    e.preventDefault();
    
    const submissionData = {
      ...formData,
      dining_room_id: parseInt(formData.dining_room_id)
    };

    try {
      if (resId) {
        await updateReservation(resId, submissionData);
        navigate(-1);
      } else {
        const newRes = await createReservation(submissionData);
        navigate(`/reservations/${newRes.id}`, { replace: true });
      }
    } catch (err) {
      console.error("Save failed", err);
      alert("Could not save reservation. Check console for details.");
    }
  };

  // Generate time options based on meal type
  const generateTimeOptions = (mealType) => {
    if (!mealType) return [];
    
    const options = [];
    let startHour, endHour;
    
    if (mealType === "lunch") {
      startHour = 11;
      endHour = 14; // 2 PM
    } else {
      startHour = 16; // 4 PM
      endHour = 19; // 7 PM
    }
    
    for (let h = startHour; h <= endHour; h++) {
      for (let m of [0, 15, 30, 45]) {
        const hour12 = h % 12 || 12;
        const ampm = h >= 12 ? 'PM' : 'AM';
        const display = `${hour12}:${String(m).padStart(2, '0')} ${ampm}`;
        const value = `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;
        options.push({ display, value });
      }
    }
    
    return options;
  };

  const timeOptions = generateTimeOptions(formData.meal_type);

  const handleMealTypeChange = (newMealType) => {
    // Only clear times if switching meal types, not on initial load
    if (formData.meal_type && formData.meal_type !== newMealType) {
      setFormData({
        ...formData,
        meal_type: newMealType,
        start_time: "",
        end_time: ""
      });
    } else {
      setFormData({
        ...formData,
        meal_type: newMealType
      });
    }
  };

  if (loading || isFetching) {
    return <div className="loading-state">SYNCHRONIZING LEDGER...</div>;
  }

  return (
    <div className="container">
      <header className="page-header">
        <h1 className="text-uppercase">{resId ? "Modify Entry" : "New Entry"}</h1>
      </header>

      <form onSubmit={onSubmit} className="banking-form">
        <div className="input-group">
          <label>Date</label>
          <input 
            type="date" 
            value={formData.date} 
            onChange={e => setFormData({...formData, date: e.target.value})} 
            required 
          />
        </div>

        <div className="input-group">
          <label>Meal Type</label>
          <select
            value={formData.meal_type}
            onChange={e => handleMealTypeChange(e.target.value)}
            required
          >
            <option value="">Select Meal...</option>
            <option value="lunch">LUNCH (11 AM - 2 PM)</option>
            <option value="dinner">DINNER (4 PM - 7 PM)</option>
          </select>
        </div>

        <div className="input-group">
          <label>Location</label>
          <select
            value={formData.dining_room_id}
            onChange={e => setFormData({...formData, dining_room_id: e.target.value})}
            required
          >
            <option value="">Select Room...</option>
            {diningRooms.map(room => (
              <option key={room.id} value={String(room.id)}>
                {room.name.toUpperCase()}
              </option>
            ))}
          </select>
        </div>

        <div className="input-group">
          <label>Start Time</label>
          <select
            value={formData.start_time}
            onChange={e => setFormData({...formData, start_time: e.target.value})}
            required
            disabled={!formData.meal_type}
          >
            <option value="">Select Start Time...</option>
            {timeOptions.map(time => (
              <option key={`start-${time.value}`} value={time.value}>
                {time.display}
              </option>
            ))}
          </select>
        </div>

        <div className="input-group">
          <label>End Time</label>
          <select
            value={formData.end_time}
            onChange={e => setFormData({...formData, end_time: e.target.value})}
            required
            disabled={!formData.meal_type}
          >
            <option value="">Select End Time...</option>
            {timeOptions.map(time => (
              <option key={`end-${time.value}`} value={time.value}>
                {time.display}
              </option>
            ))}
          </select>
        </div>

        <div className="input-group">
          <label>Notes</label>
          <textarea
            value={formData.notes}
            onChange={e => setFormData({...formData, notes: e.target.value})}
          />
        </div>

        <div className="form-actions">
          <button type="submit" className="btn-primary">Save</button>
          <button type="button" onClick={() => navigate(-1)}>Cancel</button>
        </div>
      </form>
    </div>
  );
}

==================================================
FILE: ./src/components/shared/SaveFloater.jsx
==================================================

// src/components/shared/SaveFloater.jsx
import { useEffect } from "react";
import { CheckCircle, Home } from "lucide-react";
import { useNavigate } from "react-router-dom";

export function SaveFloater({ show, onDismiss }) {
  const navigate = useNavigate();

  useEffect(() => {
    if (!show) return;

    // Auto-dismiss after 5 seconds
    const timer = setTimeout(() => {
      onDismiss();
    }, 5000);

    return () => clearTimeout(timer);
  }, [show, onDismiss]);

  if (!show) return null;

  return (
    <div className="save-floater">
      <div className="save-floater-content">
        <CheckCircle size={24} className="save-icon" />
        <span className="save-title">Changes Saved</span>
      </div>
      <div className="save-floater-actions">
        <button 
          onClick={() => {
            onDismiss();
            navigate("/");
          }} 
          className="btn-floater-home"
        >
          <Home size={18} />
          <span>Return Home</span>
        </button>
        <button 
          onClick={onDismiss} 
          className="btn-floater-dismiss"
        >
          Continue Editing
        </button>
      </div>
      <div className="save-floater-progress"></div>
    </div>
  );
}

==================================================
FILE: ./src/components/shared/Toast.jsx
==================================================

// src/components/shared/Toast.jsx
import { useEffect } from "react";
import { X, CheckCircle, AlertCircle, Info } from "lucide-react";

export function Toast({ message, type = "success", onClose, duration = 3000 }) {
  useEffect(() => {
    if (duration) {
      const timer = setTimeout(onClose, duration);
      return () => clearTimeout(timer);
    }
  }, [duration, onClose]);

  const icons = {
    success: <CheckCircle size={20} />,
    error: <AlertCircle size={20} />,
    info: <Info size={20} />
  };

  return (
    <div className={`toast toast-${type}`}>
      <div className="toast-icon">{icons[type]}</div>
      <div className="toast-message">{message}</div>
      <button onClick={onClose} className="toast-close">
        <X size={16} />
      </button>
    </div>
  );
}

==================================================
FILE: ./src/components/shared/ProtectedRoutes.jsx
==================================================

import { Navigate } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth';

export function ProtectedRoutes({ children }) {
    const { loading, loggedIn } = useAuth();
    
    // Wait for session check to complete
    if (loading) {
        return <div>Loading...</div>;
    }
    
    if (!loggedIn) {
        return <Navigate to="/login" replace />;
    }
    
    return children;
}

==================================================
FILE: ./src/components/shared/ToastContainer.jsx
==================================================

// src/components/shared/ToastContainer.jsx
import { Toast } from "./Toast";

export function ToastContainer({ toasts, removeToast }) {
  return (
    <div className="toast-container">
      {toasts.map(toast => (
        <Toast
          key={toast.id}
          message={toast.message}
          type={toast.type}
          onClose={() => removeToast(toast.id)}
          duration={toast.duration}
        />
      ))}
    </div>
  );
}

==================================================
FILE: ./src/components/shared/NavBar.jsx
==================================================

import { Link, useNavigate, useLocation } from "react-router-dom";
import { useAuth } from "../../hooks/useAuth";
import { Home, Calendar, Users, LogOut, UserCheck, FileText, ListTodo } from "lucide-react";

export function NavBar() {
  const { user, logout, loggedIn } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  const handleLogout = () => {
    logout();
    navigate("/login");
  };

  return (
    <nav className="sterling-nav">
      {/* 1. LEFT: BRAND (Always Child 1) */}
      <div className="nav-brand">
        <Link to="/" style={{ textDecoration: 'none', color: 'inherit' }}>STERLING</Link>
      </div>

      {/* 2. CENTER: LINKS (Always Child 2) */}
      <div className="nav-links" style={{ display: 'flex', gap: '2rem', justifyContent: 'center' }}>
        <Link 
          to="/" 
          className={`nav-link-with-tooltip ${location.pathname === "/" ? "active" : ""}`}
          data-tooltip="Home"
        >
          <Home size={20} />
        </Link>
        <Link 
          to="/reservations/new" 
          className={`nav-link-with-tooltip ${location.pathname === "/reservations/new" ? "active" : ""}`}
          data-tooltip="New Reservation"
        >
          <Calendar size={20} />
        </Link>
        <Link 
          to="/members" 
          className={`nav-link-with-tooltip ${location.pathname === "/members" ? "active" : ""}`}
          data-tooltip="Family"
        >
          <Users size={20} />
        </Link>
        <Link 
          to="/rules" 
          className={`nav-link-with-tooltip ${location.pathname === "/rules" ? "active" : ""}`}
          data-tooltip="Rules & Fees"
        >
          <FileText size={20} />
        </Link>
        <Link 
          to="/wishlist" 
          className={`nav-link-with-tooltip ${location.pathname === "/wishlist" ? "active" : ""}`}
          data-tooltip="Wishlist"
        >
          <ListTodo size={20} />
        </Link>
      </div>

      {/* 3. RIGHT: USER AREA (Always Child 3) */}
      <div className="nav-user" style={{ display: 'flex', justifyContent: 'flex-end' }}>
        {loggedIn && user ? (
          <div className="user-status-group" style={{ display: 'flex', alignItems: 'center', gap: '15px' }}>
            <div className="user-identity" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
              <UserCheck size={16} className="status-icon" style={{ color: '#2E4A62' }} />
              <span style={{ fontSize: '0.65rem', fontWeight: 900, color: '#888' }}>AUTHORIZED:</span>
              <span className="user-name" style={{ fontSize: '0.75rem', fontWeight: 800 }}>{user.name.toUpperCase()}</span>
            </div>
            <button 
              onClick={handleLogout} 
              className="btn-logout" 
              title="End Session" 
              style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#eb5638', padding: 0 }}
            >
              <LogOut size={18} />
            </button>
          </div>
        ) : (
          <Link to="/login" className="nav-brand" style={{ border: '1px solid #121212', padding: '4px 12px', fontSize: '0.7rem' }}>
            LOGIN
          </Link>
        )}
      </div>
    </nav>
  );
}

==================================================
FILE: ./src/components/timeSlots/TimeSlotList.jsx
==================================================

// components/timeSlots/TimeSlotList.jsx
import { TimeSlotItem } from "./TimeSlotItem";

export function TimeSlotList({ timeSlots }) {
  const slotData = timeSlots?.map((slot) => (
    <TimeSlotItem key={slot.id} timeSlot={slot} />
  ));

  return (
    <div className="container">
      <h2>Time Slots</h2>
      <table className="sterling-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>NAME</th>
            <th>START TIME</th>
            <th>END TIME</th>
          </tr>
        </thead>
        <tbody>{slotData}</tbody>
      </table>
    </div>
  );
}

==================================================
FILE: ./src/components/timeSlots/TimeSlotItem.jsx
==================================================

// components/timeSlots/TimeSlotItem.jsx
export function TimeSlotItem({ timeSlot }) {
  return (
    <tr id={timeSlot.id}>
      <td>{timeSlot.id}</td>
      <td>{timeSlot.name}</td>
      <td>{timeSlot.start_time}</td>
      <td>{timeSlot.end_time}</td>
    </tr>
  );
}

==================================================
FILE: ./src/components/timeSlots/TimeSlotForm.jsx
==================================================



==================================================
FILE: ./src/components/diningRooms/DiningRoomItem.jsx
==================================================

export function DiningRoomItem({ diningRoom }) {
  return (
    <tr id={diningRoom.id}>
      <td>{diningRoom.id}</td>
      <td>{diningRoom.name}</td>
      <td>{diningRoom.capacity} seats</td>
    </tr>
  );
}


==================================================
FILE: ./src/components/diningRooms/DiningRoomForm.jsx
==================================================

import { useState, useEffect } from "react";
import { useParams, useNavigate } from "react-router-dom";
import { useData } from "../../hooks/useData";

export function DiningRoomForm() {
  const { diningRooms, createDiningRoom, updateDiningRoom } = useData(); //  Fixed
  const { id } = useParams();
  const navigate = useNavigate();

  const [formData, setFormData] = useState({
    name: "",
    capacity: "",
  });
  const [inEditMode, setInEditMode] = useState(false);

  const selectedRoom = diningRooms?.find((r) => r.id === parseInt(id));

  useEffect(() => {
    if (id && selectedRoom) {
      setInEditMode(true);
      setFormData({
        name: selectedRoom.name || "",
        capacity: selectedRoom.capacity || "",
      });
    } else {
      setInEditMode(false);
    }
  }, [id, selectedRoom]);

  const onChange = (e) => {
    const { name, value } = e.target;
    setFormData((prev) => ({ ...prev, [name]: value }));
  };

  const onCancel = () => {
    navigate(-1);
  };

  const onSubmit = async (e) => {
    e.preventDefault();
    try {
      if (inEditMode) {
        await updateDiningRoom(formData, id);
      } else {
        await createDiningRoom(formData);
      }
      navigate("/rooms");
    } catch (err) {
      console.error("Save failed:", err);
      alert("Could not save dining room.");
    }
  };

  return (
    <div className="container">
      <h2>{inEditMode ? "Edit Dining Room" : "Add New Room"}</h2>
      <form onSubmit={onSubmit}>
        <label htmlFor="name">Room Name</label>
        <input
          type="text"
          id="name"
          name="name"
          value={formData.name}
          onChange={onChange}
          placeholder="e.g. The Sterling Suite"
          required
        />

        <label htmlFor="capacity">Capacity (Seats)</label>
        <input
          type="number"
          id="capacity"
          name="capacity"
          value={formData.capacity}
          onChange={onChange}
          placeholder="e.g. 50"
          required
        />

        <div style={{ marginTop: "1rem" }}>
          <button type="submit">
            {inEditMode ? "Update Room" : "Create Room"}
          </button>
          <button
            type="button"
            onClick={onCancel}
            style={{ marginLeft: "10px" }}
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
  );
}


==================================================
FILE: ./src/components/diningRooms/DiningRoomList.jsx
==================================================

import { useData } from "../../hooks/useData";

export function DiningRoomList() {
  const { diningRooms, loading } = useData();

  if (loading) return <div className="loading-state">VERIFYING LOCATIONS...</div>;

  return (
    <div className="container">
      <header className="page-header">
        <h1 className="text-uppercase">Location Registry</h1>
      </header>
      <table className="sterling-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Room Identity</th>
            <th className="text-right">Capacity</th>
          </tr>
        </thead>
        <tbody>
          {diningRooms.map((room) => (
            <tr key={room.id} className="ledger-row">
              <td>{room.id}</td>
              <td className="font-bold">{room.name.toUpperCase()}</td>
              <td className="text-right">{room.capacity} SEATS</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}

==================================================
FILE: ./src/components/members/MemberList.jsx
==================================================

import { useNavigate } from "react-router-dom";
import { useData } from "../../hooks/useData";

export function MemberList({ members }) {
  const navigate = useNavigate();
  const { deleteMember } = useData();

  if (!members || members.length === 0) {
    return <p className="text-muted">No family records found.</p>;
  }

  return (
    <table className="sterling-table">
      <thead>
        <tr>
          <th>Identity</th>
          <th>Relationship</th>
          <th>Dietary Requirements</th>
          <th className="text-right">Actions</th>
        </tr>
      </thead>
      <tbody>
        {members.map((m) => (
          <tr key={m.id} onClick={() => navigate(`/members/${m.id}/edit`)}>
            <td className="font-bold">{m.name.toUpperCase()}</td>
            <td className="text-uppercase">{m.relation}</td>
            <td className="text-muted">{m.dietary_restrictions || "NONE"}</td>
            <td className="text-right">
              <button 
                className="btn-text-only"
                onClick={(e) => {
                  e.stopPropagation(); // Stops navigation to edit page
                  if(window.confirm(`Archive ${m.name}?`)) deleteMember(m.id);
                }}
              >
                Archive
              </button>
            </td>
          </tr>
        ))}
      </tbody>
    </table>
  );
}

==================================================
FILE: ./src/components/members/MemberItem.jsx
==================================================

import { useNavigate } from "react-router-dom";
import { useData } from "../../hooks/useData";

export function MemberItem({ member }) {
  const navigate = useNavigate();
  const { deleteMember } = useData();

  return (
    <tr className="ledger-row" onClick={() => navigate(`/members/${member.id}/edit`)}>
      <td className="font-bold">{member.name}</td>
      <td className="text-uppercase">{member.relation}</td>
      <td className="text-muted">
        {/* We kept this detail: dietary restrictions are vital for boutique service */}
        {member.dietary_restrictions || "No restrictions listed"}
      </td>
      <td className="text-right">
        <button 
          className="btn-text-only"
          onClick={(e) => {
            e.stopPropagation();
            if(window.confirm(`Archive ${member.name}?`)) deleteMember(member.id);
          }}
        >
          Archive
        </button>
      </td>
    </tr>
  );
}

==================================================
FILE: ./src/components/members/MemberForm.jsx
==================================================

// src/components/members/MemberForm.jsx
import { useState, useEffect } from "react";
import { useParams, useNavigate } from "react-router-dom";
import { useData } from "../../hooks/useData";
import { X } from "lucide-react";

export function MemberForm() {
  const { members, createMember, updateMember } = useData();
  const { id } = useParams();
  const navigate = useNavigate();
  
  const [formData, setFormData] = useState({
    name: "",
    relation: "",
    dietary_restrictions: "",
  });
  const [inEditMode, setInEditMode] = useState(false);

  const selectedMember = members?.find((m) => m.id === parseInt(id));

  useEffect(() => {
    if (id && selectedMember) {
      setInEditMode(true);
      setFormData({
        name: selectedMember.name || "",
        relation: selectedMember.relation || "",
        dietary_restrictions: selectedMember.dietary_restrictions || "",
      });
    } else {
      setInEditMode(false);
    }
  }, [id, selectedMember]);

  const onClear = () => {
    setFormData({
      name: "",
      relation: "",
      dietary_restrictions: "",
    });
  };

  const onCancel = () => {
    navigate('/');
  };

  const onChange = (e) => {
    const { name, value } = e.target;
    setFormData((prev) => ({
      ...prev,
      [name]: value,
    }));
  };

  const onSubmit = async (e) => {
    e.preventDefault();

    try {
      if (inEditMode) {
        await updateMember(selectedMember.id, formData);
      } else {
        await createMember(formData);
      }
      navigate('/');
    } catch (err) {
      console.error("Save failed:", err);
      alert("Something went wrong. Please try again.");
    }
  };

  return (
    <div className="container">
      <header className="page-header">
        <h1>{inEditMode ? `Edit ${selectedMember?.name}` : "Add Family Member"}</h1>
        <button onClick={onCancel} className="btn-close" title="Close">
          <X size={20} />
        </button>
      </header>

      <form onSubmit={onSubmit} className="banking-form">
        <div className="input-group">
          <label htmlFor="name">Name</label>
          <input
            type="text"
            id="name"
            name="name"
            value={formData.name}
            onChange={onChange}
            placeholder="e.g. Rick"
            required
          />
        </div>

        <div className="input-group">
          <label htmlFor="relation">Relation</label>
          <input
            type="text"
            id="relation"
            name="relation"
            value={formData.relation}
            onChange={onChange}
            placeholder="e.g. Son"
          />
        </div>

        <div className="input-group">
          <label htmlFor="dietary_restrictions">Dietary Restrictions</label>
          <input
            type="text"
            id="dietary_restrictions"
            name="dietary_restrictions"
            value={formData.dietary_restrictions}
            onChange={onChange}
            placeholder="e.g. Gluten Free"
          />
        </div>

        <div className="form-actions">
          <button type="submit" className="btn-primary">
            {inEditMode ? "Update Member" : "Create Member"}
          </button>
          {!inEditMode && (
            <button type="button" onClick={onClear} className="btn-secondary">
              Clear
            </button>
          )}
        </div>
      </form>
    </div>
  );
}

==================================================
FILE: ./src/hooks/useData.jsx
==================================================

// src/hooks/useData.jsx
import { useContext } from "react";
import { DataContext } from "../contexts/DataContext";

export const useData = () => {
  const context = useContext(DataContext);
  if (!context) {
    throw new Error("useData must be used within DataProvider");
  }
  return context;
};

==================================================
FILE: ./src/hooks/useToast.jsx
==================================================

// src/hooks/useToast.jsx
import { useState, useCallback, useContext } from "react";
import { ToastContext } from "../App";

// Keep the original hook for the App component
export function useToast() {
  const [toasts, setToasts] = useState([]);

  const addToast = useCallback((message, type = "success", duration = 3000) => {
    const id = Date.now();
    setToasts(prev => [...prev, { id, message, type, duration }]);
  }, []);

  const removeToast = useCallback((id) => {
    setToasts(prev => prev.filter(toast => toast.id !== id));
  }, []);

  return { toasts, addToast, removeToast };
}

// New hook for child components to trigger toasts
export function useToastTrigger() {
  const context = useContext(ToastContext);
  if (!context) {
    throw new Error("useToastTrigger must be used within App");
  }
  return context;
}

==================================================
FILE: ./src/hooks/useAuth.jsx
==================================================

import { useContext } from "react";
import { AuthContext } from "../contexts/AuthContext";

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error("useAuth must be used within AuthProvider");
  }
  return context;
};

==================================================
FILE: ./src/pages/ErrorPage.jsx
==================================================

import { useRouteError, useNavigate } from "react-router-dom";

export function ErrorPage() {
  const error = useRouteError();
  const navigate = useNavigate();

  return (
    <div className="container error-screen">
      <div className="error-box">
        <header className="page-header">
          <h1 className="text-uppercase">System Interruption</h1>
        </header>
        
        <div className="info-summary-card error-card">
          <div className="text-small">Error Reference</div>
          <h2>{error.status || "500"} - {error.statusText || "UNEXPECTED_EXCEPTION"}</h2>
          
          <div className="details-grid">
            <div>
              <span className="text-small">Diagnostics</span>
              <p className="text-muted">{error.message || "The ledger could not be synchronized."}</p>
            </div>
          </div>
        </div>

        <div className="form-actions">
          <button className="btn-primary" onClick={() => navigate('/')}>
            Return to Dashboard
          </button>
          <button className="btn-cancel" onClick={() => window.location.reload()}>
            Retry Connection
          </button>
        </div>
      </div>
    </div>
  );
}

==================================================
FILE: ./src/pages/HomePage.jsx
==================================================

// src/pages/HomePage.jsx
import { useAuth } from "../hooks/useAuth";
import { useData } from "../hooks/useData";
import { useNavigate } from "react-router-dom";
import { ReservationList } from "../components/reservations/ReservationList";
import { MemberList } from "../components/members/MemberList";
import { Plus } from "lucide-react";

export function HomePage() {
  const { user, loading: authLoading } = useAuth();
  const { reservations, members, loading } = useData();
  const navigate = useNavigate();

  if (authLoading || loading) {
    return <div className="loading-state">Loading Sterling System...</div>;
  }

  return (
    <div className="container dashboard">
      <header className="dashboard-welcome">
        <h1>Welcome, {user?.name}!</h1>
      </header>

      <section className="dashboard-section">
        <header className="section-header">
          <h2>Active Reservations</h2>
        </header>
        <ReservationList reservations={reservations} />
      </section>

      <section className="dashboard-section">
        <header className="section-header">
          <h2>Family Ledger</h2>
        </header>
        <MemberList members={members} />
      </section>

      {/* Floating Action Button for Mobile */}
      <button 
        className="fab" 
        onClick={() => navigate('/reservations/new')}
        title="New Booking"
      >
        <Plus size={24} />
      </button>
    </div>
  );
}

==================================================
FILE: ./src/pages/SignupPage.jsx
==================================================

import { useAuth } from "../hooks/useAuth";
import { useNavigate, Link } from "react-router-dom";
import { useState, useEffect } from "react";

export function SignupPage() {
  const { loggedIn, signup } = useAuth();
  const navigate = useNavigate();
  const [formData, setFormData] = useState({
    name: "",
    email: "",
    password: "",
  });
  const [error, setError] = useState(null);

  useEffect(() => {
    if (loggedIn) {
      navigate("/");
    }
  }, [loggedIn, navigate]);

  const onFormChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError(null);

    const result = await signup(formData);

    if (result.success) {
      navigate("/");
    } else {
      setError(result.error);
    }
  };

  return (
    <div className="login-page-container">
      <div className="login-card">
        <h1>Signup</h1>
        <form onSubmit={handleSubmit}>
          {error && <div className="login-error">{error}</div>}

          <input
            name="name"
            type="text"
            placeholder="Name"
            value={formData.name}
            onChange={onFormChange}
            required
          />

          <input
            name="email"
            type="email"
            placeholder="Email"
            value={formData.email}
            onChange={onFormChange}
            required
          />

          <input
            name="password"
            type="password"
            placeholder="Password"
            value={formData.password}
            onChange={onFormChange}
            required
          />

          <button type="submit">Confirm User</button>

          <p>
            Return to <Link to="/login">Login</Link>
          </p>
        </form>
      </div>
    </div>
  );
}


==================================================
FILE: ./src/pages/ReservationsPage.jsx
==================================================

// src/pages/ReservationsPage.jsx
import { useNavigate } from "react-router-dom";
import { useData } from "../hooks/useData";
import { ReservationList } from "../components/reservations/ReservationList";

export function ReservationsPage() {
  const { reservations, loading } = useData();
  const navigate = useNavigate();

  return (
    <section className="dashboard-section">
      <header className="section-header">
        <h2>Active Reservations</h2>
        <button type="button" onClick={() => navigate('/reservations/new')}>
          + New Booking
        </button>
      </header>
      
      {loading ? (
        <p className="loading-state">Updating Ledger...</p>
      ) : (
        <ReservationList reservations={reservations} />
      )}
    </section>
  );
}

==================================================
FILE: ./src/pages/TimeSlotsPage.jsx
==================================================

// src/pages/TimeSlotsPage.jsx
import { useData } from "../hooks/useData";
import { TimeSlotList } from "../components/timeSlots/TimeSlotList";

export function TimeSlotsPage() {
  const { timeSlots, loading } = useData();

  return (
    <div className="container dashboard-section">
      <h1>Available Times</h1>
      {loading ? <p>Loading schedule...</p> : <TimeSlotList timeSlots={timeSlots} />}
    </div>
  );
}

==================================================
FILE: ./src/pages/MembersPage.jsx
==================================================

// src/pages/MembersPage.jsx
import { useData } from "../hooks/useData";
import { MemberList } from "../components/members/MemberList";
import { useNavigate } from "react-router-dom";

export function MembersPage() {
  const { members, loading } = useData();
  const navigate = useNavigate();

  return (
    <div className="container dashboard-section">
      <header className="section-header">
        <h1>Family Ledger</h1>
        <button onClick={() => navigate('/members/new')}>+ Add Member</button>
      </header>

      {loading ? (
        <p className="loading-state">Syncing family records...</p>
      ) : (
        <div className="banking-grid">
           <MemberList members={members} />
        </div>
      )}
    </div>
  );
}

==================================================
FILE: ./src/pages/ReservationDetailPage.jsx
==================================================

// src/pages/ReservationDetailPage.jsx
import { useEffect, useState } from "react";
import { useParams, useNavigate } from "react-router-dom";
import { useData } from "../hooks/useData";
import { useToastTrigger } from "../hooks/useToast";
import { AttendeeList } from "../components/attendees/AttendeeList";
import { AttendeeForm } from "../components/attendees/AttendeeForm";
import { SaveFloater } from "../components/shared/SaveFloater";
import { Edit3, UserPlus, Clock, DollarSign } from "lucide-react";

const API_URL = "https://sterling-fastapi-backend-production.up.railway.app";

export function ReservationDetailPage() {
  const { id } = useParams();
  const navigate = useNavigate();
  const [needsFetch, setNeedsFetch] = useState(true);
  const [showSaveFloater, setShowSaveFloater] = useState(false);
  const [fees, setFees] = useState([]);
  const [currentAttendees, setCurrentAttendees] = useState([]);

  const { addToast } = useToastTrigger();

  const {
    diningRooms,
    reservations,
    members,
    loading,
    fetchReservationById,
    fetchAttendees,
    addAttendee,
    removeAttendee,
  } = useData();

  const resId = parseInt(id);
  const reservation = reservations?.find((r) => r.id === resId);

  // Convert 24hr time to 12hr AM/PM format
  const formatTime = (time24) => {
    if (!time24) return "";
    const [hours, minutes] = time24.split(":");
    const hour = parseInt(hours);
    const ampm = hour >= 12 ? "PM" : "AM";
    const hour12 = hour % 12 || 12;
    return `${hour12}:${minutes} ${ampm}`;
  };

  useEffect(() => {
    const sync = async () => {
      if (!resId) return;

      if (reservation) {
        const attendees = await fetchAttendees(resId);
        setCurrentAttendees(attendees || []);
        setNeedsFetch(false);
        return;
      }

      const current = await fetchReservationById(resId);
      if (!current) {
        navigate("/", { replace: true });
        return;
      }

      const attendees = await fetchAttendees(resId);
      setCurrentAttendees(attendees || []);
      setNeedsFetch(false);
    };

    sync();
  }, [resId, reservation, fetchReservationById, fetchAttendees, navigate]);

  // Fetch fees
  useEffect(() => {
    const loadFees = async () => {
      const token = localStorage.getItem("token");
      // FIXED: Added trailing slash to prevent 307 redirect
      const resp = await fetch(`${API_URL}/reservations/${resId}/fees/`, {
        headers: { Authorization: `Bearer ${token}` },
      });
      if (resp.ok) {
        setFees(await resp.json());
      }
    };

    if (resId) loadFees();
  }, [resId, currentAttendees]);

  const unseatedMembers =
    members?.filter(
      (member) => !currentAttendees.find((att) => att.member_id === member.id),
    ) || [];

  const handleQuickAddMember = async (member) => {
    const result = await addAttendee(resId, {
      member_id: member.id,
      name: member.name,
      attendee_type: "member",
      dietary_restrictions: member.dietary_restrictions,
    });

    if (result.success) {
      addToast(`${member.name} added to table`, "success");
      setShowSaveFloater(true);
      // Refresh attendees
      const attendees = await fetchAttendees(resId);
      setCurrentAttendees(attendees || []);
    } else {
      addToast("Failed to add guest", "error");
    }
  };

  const handleRemoveAttendee = async (attendeeId, attendeeName) => {
    const result = await removeAttendee(resId, attendeeId);
    if (result.success) {
      addToast(`${attendeeName} removed from table`, "success");
      setShowSaveFloater(true);
      // Refresh attendees
      const attendees = await fetchAttendees(resId);
      setCurrentAttendees(attendees || []);
    } else {
      addToast("Failed to remove guest", "error");
    }
  };

  if ((loading || needsFetch) && !reservation) {
    return <div className="loading-state">VERIFYING LEDGER ENTRY...</div>;
  }

  if (!reservation) {
    return <div className="loading-state">RESERVATION NOT FOUND</div>;
  }

  const room = diningRooms?.find((r) => r.id === reservation?.dining_room_id);
  const totalFees = fees.reduce((sum, fee) => sum + fee.calculated_amount, 0);

  return (
    <div className="container">
      <SaveFloater
        show={showSaveFloater}
        onDismiss={() => setShowSaveFloater(false)}
      />

      <header className="page-header">
        <h1>Ledger Entry #{resId}</h1>
        <button
          onClick={() => navigate(`/reservations/${id}/edit`)}
          className="btn-edit"
          title="Edit"
        >
          <Edit3 size={20} />
          <span className="btn-edit-text">Edit Record</span>
        </button>
      </header>

      <div className="info-summary-card">
        <div className="text-small">Verified Location</div>
        <h2>{room ? room.name : "NO LOCATION ASSIGNED"}</h2>

        <div className="details-grid">
          <div>
            <span className="text-small">Transaction Date</span>
            <p className="font-bold">{reservation?.date}</p>
          </div>
          <div>
            <span className="text-small">Scheduled Window</span>
            <p className="font-bold">
              <Clock
                size={14}
                style={{ marginRight: "4px", verticalAlign: "middle" }}
              />
              {formatTime(reservation?.start_time)} -{" "}
              {formatTime(reservation?.end_time)}
            </p>
          </div>
          <div>
            <span className="text-small">Entry Notes</span>
            <p className="text-muted">{reservation?.notes || ""}</p>
          </div>
        </div>
      </div>

      {fees.length > 0 && (
        <div className="fees-section">
          <h3 className="section-label">
            <DollarSign
              size={16}
              style={{ verticalAlign: "middle", marginRight: "4px" }}
            />
            Applied Fees
          </h3>
          <table className="sterling-table">
            <thead>
              <tr>
                <th>Fee</th>
                <th>Amount</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              {fees.map((fee) => (
                <tr key={fee.id}>
                  <td className="font-bold">{fee.rule.name}</td>
                  <td>${fee.calculated_amount.toFixed(2)}</td>
                  <td>
                    <span
                      className={`fee-status ${fee.paid ? "paid" : "pending"}`}
                    >
                      {fee.paid ? "PAID" : "PENDING"}
                    </span>
                  </td>
                </tr>
              ))}
              <tr className="fee-total-row">
                <td className="font-bold">TOTAL</td>
                <td className="font-bold">${totalFees.toFixed(2)}</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      )}

      <div className="detail-layout">
        <div className="main-content">
          <AttendeeList
            attendees={currentAttendees}
            reservationId={resId}
            onRemove={handleRemoveAttendee}
          />
        </div>

        <aside className="sidebar">
          {unseatedMembers.length > 0 && (
            <div className="sidebar-card">
              <h3 className="section-label">Quick Add Family</h3>
              <div className="quick-add-members">
                {unseatedMembers.map((member) => (
                  <button
                    key={member.id}
                    onClick={() => handleQuickAddMember(member)}
                    className="btn-quick-add-member"
                  >
                    <UserPlus size={16} />
                    <span>{member.name}</span>
                    {member.relation && (
                      <span className="member-relation">
                        ({member.relation})
                      </span>
                    )}
                  </button>
                ))}
              </div>
            </div>
          )}

          <div className="sidebar-card">
            <h3 className="section-label">Add Guest</h3>
            <AttendeeForm
              reservationId={resId}
              onSuccess={async (name) => {
                addToast(`${name} added to table`, "success");
                setShowSaveFloater(true);
                // Refresh attendees
                const attendees = await fetchAttendees(resId);
                setCurrentAttendees(attendees || []);
              }}
            />
          </div>
        </aside>
      </div>
    </div>
  );
}


==================================================
FILE: ./src/pages/LoginPage.jsx
==================================================

import { useAuth } from "../hooks/useAuth";
import { useNavigate, Link } from "react-router-dom";
import { useState, useEffect } from "react";
import { LogIn, UserCircle2 } from "lucide-react";

export function LoginPage() {
    const { login, loggedIn } = useAuth();
    const navigate = useNavigate();
    
    // Muted Historical/Pantone-inspired Palette
    const accounts = [
        { name: "Josh", email: "josh@josh.com", color: "#2E4A62" },      // Muted Classic Blue (2020)
        { name: "Zach", email: "zach@zach.com", color: "#7B5E7B" },      // Muted Radiant Orchid (2014)
        { name: "Gabe", email: "gabe@gbae.com", color: "#8E354A" },      // Muted True Red (2002)
        { name: "Ariel", email: "ariel@ariel.com", color: "#4A5D4E" },    // Muted Greenery (2017 style)
        { name: "Sarah", email: "sarah@sarah.com", color: "#C48E48" },    // Muted Mimosa (2009 style)
        { name: "Jaime", email: "jaime@jaime.com", color: "#6B7B8E" },    // Muted Serenity (2016 style)
        { name: "Brian", email: "brian@brian.com", color: "#4A4A4A" },    // Muted Charcoal
        { name: "Brandon", email: "brandon@brandon.com", color: "#A67B5B" } // Muted Marsala (2015 style)
    ];

    const [formData, setFormData] = useState({ email: '', password: '' });
    const [error, setError] = useState(null);

    useEffect(() => { if (loggedIn) navigate('/'); }, [loggedIn, navigate]);

    const handleQuickSelect = (email) => {
        setFormData({ email: email, password: '1111' });
        setError(null);
    };

    const handleSubmit = async (e) => {
        e.preventDefault();
        setError(null);
        const result = await login(formData); 
        if (result.success) navigate('/');
        else setError(result.error);
    };

    return (
        <div className="login-page-container">
            <div className="login-card">
                <header className="login-header">
                    <LogIn size={40} className="login-icon-main" />
                    <h1>Sterling Ledger</h1>
                    <p className="text-muted">Select an identity to authorize session</p>
                </header>

                <div className="account-grid">
                    {accounts.map((acc) => (
                        <button 
                            key={acc.email}
                            type="button" 
                            onClick={() => handleQuickSelect(acc.email)}
                            className="account-select-btn"
                            style={{ '--acc-color': acc.color }}
                        >
                            <UserCircle2 size={28} />
                            <span>{acc.name}</span>
                        </button>
                    ))}
                </div>

                <div className="divider"><span>OR MANUAL ENTRY</span></div>

                <form onSubmit={handleSubmit} className="banking-form">
                    {error && <div className="login-error">{error}</div>}
                    <div className="input-group">
                        <label>Email Address</label>
                        <input name="email" type="email" value={formData.email} onChange={e => setFormData({...formData, email: e.target.value})} required />
                    </div>
                    <div className="input-group">
                        <label>Security Pin</label>
                        <input name="password" type="password" value={formData.password} onChange={e => setFormData({...formData, password: e.target.value})} required />
                    </div>
                    <button type="submit" className="btn-primary login-submit">Authorize Access</button>
                    <p className="signup-link">New Entity? <Link to="/signup">Register</Link></p>
                </form>
            </div>
        </div>
    );
}

==================================================
FILE: ./src/pages/DiningRoomsPage.jsx
==================================================

// src/pages/DiningRoomsPage.jsx
import { useData } from "../hooks/useData";
import { DiningRoomList } from "../components/diningRooms/DiningRoomList";

export function DiningRoomsPage() {
  const { diningRooms, loading } = useData();

  return (
    <div className="container dashboard-section">
      <h1>Dining Rooms</h1>
      {loading ? <p>Loading rooms...</p> : <DiningRoomList diningRooms={diningRooms} />}
    </div>
  );
}

==================================================
FILE: ./src/pages/SegaWishList.jsx
==================================================

import React, { useEffect, useRef } from "react";

const SegaRing = () => (
  <svg width="24" height="24" viewBox="0 0 24 24" className="sonic-ring">
    <ellipse cx="12" cy="12" rx="8" ry="10" fill="none" stroke="#ffcc00" strokeWidth="3" />
    <ellipse cx="12" cy="12" rx="4" ry="6" fill="none" stroke="#fff" strokeWidth="1" opacity="0.6" />
  </svg>
);

export const SegaWishList = () => {
  const globeRef = useRef(null);

  const tasks = [
    { id: "LOG_001", title: "TEMPORAL WINDOWS", desc: "Shift from timestamps to Breakfast/Lunch/Dinner windows.", status: "PENDING" },
    { id: "LOG_002", title: "MESH SYNC PROTOCOL", desc: "Shared Awareness so attendees see bookings they didn't create.", status: "CRITICAL" },
    { id: "LOG_003", title: "DYNAMIC REVENUE", desc: "Real-time fee calculator for party size and peak surcharges.", status: "IN_PROGRESS" },
    { id: "LOG_004", title: "RULE ARCHITECT", desc: "Move system constraints into a live database table.", status: "PLANNING" },
    { id: "LOG_005", title: "ARCHIVE VAULT", desc: "Read-only view for past/cancelled entries to maintain audit trails.", status: "PENDING" },
    { id: "LOG_006", title: "STATE MACHINE", desc: "Confirmed  Seated  Completed flow to automate fee triggers.", status: "IN_PROGRESS" },
    { id: "LOG_007", title: "OVERLORD DASHBOARD", desc: "Admin escalation for overriding room limits and fee management.", status: "STRETCH" },
    { id: "LOG_008", title: "DIETARY TAXONOMY", desc: "Replace string inputs with Enum-based tags (VEG, GF, CELIAC).", status: "OPTIMIZATION" },
  ];

  useEffect(() => {
    let angle = 0;
    const globe = globeRef.current;
    const interval = setInterval(() => {
      angle += 0.01;
      if (globe) globe.style.transform = `rotateY(${angle}rad) rotateX(${angle / 2}rad)`;
    }, 16);
    return () => clearInterval(interval);
  }, []);

  return (
    <div className="sonic-crt-container">
      <div className="sega-background" />
      <div className="grid-globe" ref={globeRef} />

      <div className="wishlist-panel">
        <div className="wishlist-title">STERLING ZONE</div>
        <div className="wish-list">
          {tasks.map(task => (
            <div key={task.id} className="wish-item">
              <span style={{color: '#555', fontSize: '0.6rem'}}>{task.id}</span>
              <SegaRing />
              <div className="wish-content">
                <h3>{task.title}</h3>
                <p>{task.desc}</p>
              </div>
              <div className={`status-tag ${task.status}`}>{task.status.replace("_", " ")}</div>
            </div>
          ))}
        </div>
      </div>

      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        .sonic-crt-container {
          background: #0055cc;
          min-height: 100vh;
          padding: 4rem 2rem;
          font-family: 'Press Start 2P', monospace;
          color: #fff;
          position: relative;
          overflow: hidden;
        }

        .sega-background {
          position: absolute;
          inset: 0;
          background-color: #aa6622;
          background-image: 
            linear-gradient(45deg, #885500 25%, transparent 25%, transparent 75%, #885500 75%, #885500),
            linear-gradient(45deg, #885500 25%, transparent 25%, transparent 75%, #885500 75%, #885500);
          background-size: 60px 60px;
          background-position: 0 0, 30px 30px;
          border-top: 12px solid #00cc00;
          box-shadow: inset 0 8px 0 #008800;
          z-index: 1;
        }

        .grid-globe {
          position: absolute;
          top: 10%;
          left: 50%;
          width: 100px;
          height: 100px;
          transform-style: preserve-3d;
          transform-origin: center;
          margin-left: -50px;
          border: 2px solid #ffff00;
          border-radius: 50%;
          box-shadow: 0 0 25px #ffcc00;
          z-index: 2;
        }

        .sonic-crt-container::before {
          content: "";
          position: absolute;
          inset: 0;
          pointer-events: none;
          background: repeating-linear-gradient(
            rgba(255,255,255,0.05) 0px,
            rgba(255,255,255,0.05) 2px,
            transparent 2px,
            transparent 4px
          );
          z-index: 100;
        }

        .wishlist-panel {
          max-width: 900px;
          margin: 0 auto;
          border: 4px solid #fff;
          outline: 8px solid #000;
          padding: 2.5rem;
          background: rgba(0,0,80,0.9);
          position: relative;
          z-index: 10;
        }

        .wishlist-title {
          font-size: 2rem;
          text-align: center;
          margin-bottom: 2rem;
          color: #ffcc00;
          text-shadow: 4px 4px 0 #0055ff, 8px 8px 0 #000;
          letter-spacing: 5px;
        }

        .wish-item {
          display: grid;
          grid-template-columns: 60px 50px 1fr 140px;
          align-items: center;
          gap: 1rem;
          padding: 1rem;
          background: #111;
          border: 4px solid #333;
          margin-bottom: 10px;
        }

        .wish-content h3 { margin: 0; font-size: 0.8rem; color: #fff; }
        .wish-content p { margin: 0.3rem 0 0; font-size: 0.65rem; color: #ffcc00; line-height: 1.4; }

        .status-tag {
          padding: 0.4rem;
          border: 2px solid #fff;
          font-size: 0.6rem;
          text-align: center;
          background: #000;
        }

        .sonic-ring { filter: drop-shadow(0 0 5px #ffcc00); }
      `}</style>
    </div>
  );
};


==================================================
FILE: ./src/pages/RulesPage.jsx
==================================================

// src/pages/RulesPage.jsx (Fixed: Added trailing slash to fetch)
import { useEffect, useState } from "react";
import { DollarSign, Users, Calendar, AlertCircle } from "lucide-react";

const API_URL = "https://sterling-fastapi-backend-production.up.railway.app";

export function RulesPage() {
  const [rules, setRules] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // FIXED: Added '/' at the end to prevent 307 Redirect to HTTP
    fetch(`${API_URL}/rules/`)
      .then((res) => res.json())
      .then((data) => {
        setRules(data);
        setLoading(false);
      });
  }, []);

  if (loading)
    return <div className="loading-state">Loading Club Rules...</div>;

  // Icon mapping for different rule types
  const getRuleIcon = (code) => {
    switch (code) {
      case "peak_hours":
        return <Calendar size={24} />;
      case "large_party":
        return <Users size={24} />;
      case "no_call_no_show":
        return <AlertCircle size={24} />;
      case "cancellation":
        return <AlertCircle size={24} />;
      default:
        return <DollarSign size={24} />;
    }
  };

  const formatFeeAmount = (rule) => {
    if (rule.fee_type === "flat") return `$${rule.base_amount.toFixed(2)}`;
    if (rule.fee_type === "per_person")
      return `$${rule.base_amount.toFixed(2)} per person`;
    if (rule.fee_type === "percentage") return `${rule.base_amount}%`;
    return `$${rule.base_amount.toFixed(2)}`;
  };

  return (
    <div className="container">
      <header className="page-header">
        <h1>Club Rules & Fees</h1>
      </header>

      <div className="rules-intro">
        <p>
          Please review our club policies to avoid additional charges. All fees
          are automatically applied when applicable.
        </p>
      </div>

      <div className="rules-grid">
        {rules.map((rule) => (
          <div key={rule.id} className="rule-card">
            <div className="rule-icon">{getRuleIcon(rule.code)}</div>
            <div className="rule-content">
              <h3>{rule.name}</h3>
              <p className="rule-desc">
                {rule.description || "Standard club policy applies."}
              </p>

              {rule.threshold && (
                <div className="rule-condition">
                  <span className="condition-label">Applies when:</span>
                  <span className="condition-value">
                    Party size  {rule.threshold} guests
                  </span>
                </div>
              )}

              <div className="rule-fee">
                <span className="fee-label">Fee Amount</span>
                <span className="fee-amount">{formatFeeAmount(rule)}</span>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}

